<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Exploratory Analysis</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eda.html">Eda about restaurants in NYC</a>
    </li>
    <li>
      <a href="map.html"></a>
    </li>
  </ul>
</li>
<li>
  <a href="stat_analysis.html">Statistical Analysis</a>
</li>
<li>
  <a href="report.html">Project Report</a>
</li>
<li>
  <a href="https://sweetsugar.shinyapps.io/recommender">Shiny app</a>
</li>
<li>
  <a href="mailto:&lt;js6177@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/xx2416/p8105_final">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Exploratory Analysis</h1>

</div>


<div id="boro-vs-cuisine" class="section level2">
<h2>boro vs cuisine</h2>
<pre><code>## `summarise()` has grouped output by &#39;boro&#39;. You can override using the
## `.groups` argument.</code></pre>
<div id="htmlwidget-9c7e81cc5357249a9177" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9c7e81cc5357249a9177">{"x":{"data":[{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[138],"text":"cuisine_description: American<br />n_obs:  138<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[725],"text":"cuisine_description: American<br />n_obs:  725<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[1578],"text":"cuisine_description: American<br />n_obs: 1578<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[521],"text":"cuisine_description: American<br />n_obs:  521<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[116],"text":"cuisine_description: American<br />n_obs:  116<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[152],"text":"cuisine_description: Chinese<br />n_obs:  152<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(232,133,38,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[626],"text":"cuisine_description: Chinese<br />n_obs:  626<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(232,133,38,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[669],"text":"cuisine_description: Chinese<br />n_obs:  669<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(232,133,38,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[689],"text":"cuisine_description: Chinese<br />n_obs:  689<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(232,133,38,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[48],"text":"cuisine_description: Chinese<br />n_obs:   48<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(232,133,38,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[438],"text":"cuisine_description: Coffee/Tea<br />n_obs:  438<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[851],"text":"cuisine_description: Coffee/Tea<br />n_obs:  851<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[166],"text":"cuisine_description: Coffee/Tea<br />n_obs:  166<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[34],"text":"cuisine_description: Coffee/Tea<br />n_obs:   34<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[140],"text":"cuisine_description: Pizza<br />n_obs:  140<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[343],"text":"cuisine_description: Pizza<br />n_obs:  343<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[419],"text":"cuisine_description: Pizza<br />n_obs:  419<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[297],"text":"cuisine_description: Pizza<br />n_obs:  297<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[69],"text":"cuisine_description: Pizza<br />n_obs:   69<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[108],"text":"cuisine_description: Mexican<br />n_obs:  108<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[191],"text":"cuisine_description: Mexican<br />n_obs:  191<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[263],"text":"cuisine_description: Mexican<br />n_obs:  263<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[187],"text":"cuisine_description: Mexican<br />n_obs:  187<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[167],"text":"cuisine_description: Japanese<br />n_obs:  167<br />cuisine_description: Japanese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(94,179,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Japanese","legendgroup":"Japanese","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[394],"text":"cuisine_description: Japanese<br />n_obs:  394<br />cuisine_description: Japanese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(94,179,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Japanese","legendgroup":"Japanese","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[53],"text":"cuisine_description: Japanese<br />n_obs:   53<br />cuisine_description: Japanese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(94,179,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Japanese","legendgroup":"Japanese","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[421],"text":"cuisine_description: Italian<br />n_obs:  421<br />cuisine_description: Italian","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Italian","legendgroup":"Italian","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[69],"text":"cuisine_description: Italian<br />n_obs:   69<br />cuisine_description: Italian","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Italian","legendgroup":"Italian","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[65],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:   65<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,116,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[203],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:  203<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,116,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[235],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:  235<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,116,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[175],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:  175<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,116,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[95],"text":"cuisine_description: Latin American<br />n_obs:   95<br />cuisine_description: Latin American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Latin American","legendgroup":"Latin American","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[269],"text":"cuisine_description: Latin American<br />n_obs:  269<br />cuisine_description: Latin American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Latin American","legendgroup":"Latin American","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[81],"text":"cuisine_description: Caribbean<br />n_obs:   81<br />cuisine_description: Caribbean","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Caribbean","legendgroup":"Caribbean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[271],"text":"cuisine_description: Caribbean<br />n_obs:  271<br />cuisine_description: Caribbean","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Caribbean","legendgroup":"Caribbean","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[10],"y":[183],"text":"cuisine_description: Caribbean<br />n_obs:  183<br />cuisine_description: Caribbean","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Caribbean","legendgroup":"Caribbean","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[92],"text":"cuisine_description: Chicken<br />n_obs:   92<br />cuisine_description: Chicken","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chicken","legendgroup":"Chicken","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[175],"text":"cuisine_description: Chicken<br />n_obs:  175<br />cuisine_description: Chicken","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chicken","legendgroup":"Chicken","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[145],"text":"cuisine_description: Chicken<br />n_obs:  145<br />cuisine_description: Chicken","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chicken","legendgroup":"Chicken","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[11],"y":[21],"text":"cuisine_description: Chicken<br />n_obs:   21<br />cuisine_description: Chicken","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chicken","legendgroup":"Chicken","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[12],"y":[214],"text":"cuisine_description: Asian/Asian Fusion<br />n_obs:  214<br />cuisine_description: Asian/Asian Fusion","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,173,250,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Asian/Asian Fusion","legendgroup":"Asian/Asian Fusion","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[12],"y":[138],"text":"cuisine_description: Asian/Asian Fusion<br />n_obs:  138<br />cuisine_description: Asian/Asian Fusion","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,173,250,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Asian/Asian Fusion","legendgroup":"Asian/Asian Fusion","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[13],"y":[27],"text":"cuisine_description: Sandwiches<br />n_obs:   27<br />cuisine_description: Sandwiches","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Sandwiches","legendgroup":"Sandwiches","showlegend":true,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[14],"y":[87],"text":"cuisine_description: Spanish<br />n_obs:   87<br />cuisine_description: Spanish","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(174,135,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Spanish","legendgroup":"Spanish","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[15],"y":[73],"text":"cuisine_description: Hamburgers<br />n_obs:   73<br />cuisine_description: Hamburgers","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Hamburgers","legendgroup":"Hamburgers","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[15],"y":[28],"text":"cuisine_description: Hamburgers<br />n_obs:   28<br />cuisine_description: Hamburgers","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Hamburgers","legendgroup":"Hamburgers","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[16],"y":[52],"text":"cuisine_description: Donuts<br />n_obs:   52<br />cuisine_description: Donuts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Donuts","legendgroup":"Donuts","showlegend":true,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[17],"y":[192],"text":"cuisine_description: French<br />n_obs:  192<br />cuisine_description: French","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,97,195,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"French","legendgroup":"French","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[18],"y":[147],"text":"cuisine_description: Jewish/Kosher<br />n_obs:  147<br />cuisine_description: Jewish/Kosher","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,105,156,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Jewish/Kosher","legendgroup":"Jewish/Kosher","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":108.194271481943,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.189128071319852],"automargin":true,"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Cuisine type","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-89.9294312992943},{"text":"Number","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.6073059360731},{"text":"Bronx","x":0.0945640356599261,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Brooklyn","x":0.3,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Manhattan","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Queens","x":0.7,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Staten Island","x":0.905435964340074,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-78.9,1656.9],"tickmode":"array","ticktext":["0","500","1000","1500"],"tickvals":[0,500,1000,1500],"categoryorder":"array","categoryarray":["0","500","1000","1500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.189128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.189128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.210871928680148,"x1":0.389128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.210871928680148,"x1":0.389128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.410871928680148,"x1":0.589128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.410871928680148,"x1":0.589128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.610871928680148,"x1":0.789128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.610871928680148,"x1":0.789128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.810871928680148,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.810871928680148,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.210871928680148,0.389128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.410871928680148,0.589128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.610871928680148,0.789128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis5":{"type":"linear","autorange":false,"range":[0.4,18.6],"tickmode":"array","ticktext":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],"categoryorder":"array","categoryarray":["American","Chinese","Coffee/Tea","Pizza","Mexican","Japanese","Italian","Bakery Products/Desserts","Latin American","Caribbean","Chicken","Asian/Asian Fusion","Sandwiches","Spanish","Hamburgers","Donuts","French","Jewish/Kosher"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.810871928680148,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"cuisine_description","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bbe5520f4152":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"bbe5520f4152","visdat":{"bbe5520f4152":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="price-vs-cuisine" class="section level2">
<h2>price vs cuisine</h2>
<pre class="r"><code>price_cuisine&lt;-
  inspection_raw %&gt;% 
  select(dba,boro,cuisine_description,critical_flag,score,grade,grade_date,inspection_type,latitude,longitude,rating,review_num,price) %&gt;%
  drop_na(boro,price) %&gt;% 
  mutate(price=as.factor(price)) %&gt;% 
  group_by(price)%&gt;%
  count(cuisine_description) %&gt;%
  mutate(cuisine_description=fct_reorder(cuisine_description,n)) %&gt;%
  filter(min_rank(desc(n))&lt;=10) %&gt;%
  ggplot(aes(x=cuisine_description,y=n,fill=price))+
  geom_bar(position=&quot;dodge&quot;, stat=&quot;identity&quot;)+
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))+
  theme(axis.text.x = element_text(size = 5))+
  labs(
    x=&quot;Cuisine type&quot;,
    y=&quot;Number&quot;)+
  facet_grid(~price)


ggplotly(price_cuisine)</code></pre>
<div id="htmlwidget-1d51e4916e248975c833" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1d51e4916e248975c833">{"x":{"data":[{"orientation":"v","width":[0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0],"x":[20,15,17,22,19,18,16,13,21,14],"y":[614,315,394,1006,545,407,369,260,903,313],"text":["cuisine_description: American<br />n:  614<br />price: $","cuisine_description: Bakery Products/Desserts<br />n:  315<br />price: $","cuisine_description: Chicken<br />n:  394<br />price: $","cuisine_description: Chinese<br />n: 1006<br />price: $","cuisine_description: Coffee/Tea<br />n:  545<br />price: $","cuisine_description: Donuts<br />n:  407<br />price: $","cuisine_description: Hamburgers<br />n:  369<br />price: $","cuisine_description: Mexican<br />n:  260<br />price: $","cuisine_description: Pizza<br />n:  903<br />price: $","cuisine_description: Sandwiches<br />n:  313<br />price: $"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$","legendgroup":"$","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0],"x":[20,7,11,22,19,5,6,12,13,21],"y":[1969,365,389,1051,903,467,579,328,444,322],"text":["cuisine_description: American<br />n: 1969<br />price: $$","cuisine_description: Asian/Asian Fusion<br />n:  365<br />price: $$","cuisine_description: Caribbean<br />n:  389<br />price: $$","cuisine_description: Chinese<br />n: 1051<br />price: $$","cuisine_description: Coffee/Tea<br />n:  903<br />price: $$","cuisine_description: Italian<br />n:  467<br />price: $$","cuisine_description: Japanese<br />n:  579<br />price: $$","cuisine_description: Latin American<br />n:  328<br />price: $$","cuisine_description: Mexican<br />n:  444<br />price: $$","cuisine_description: Pizza<br />n:  322<br />price: $$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$","legendgroup":"$$","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.9,0.9,0.9,0.899999999999999,0.9],"base":[0,0,0,0,0,0,0,0,0,0],"x":[20,7,15,22,19,2,5,6,8,1],"y":[326,35,33,94,31,108,193,64,32,47],"text":["cuisine_description: American<br />n:  326<br />price: $$$","cuisine_description: Asian/Asian Fusion<br />n:   35<br />price: $$$","cuisine_description: Bakery Products/Desserts<br />n:   33<br />price: $$$","cuisine_description: Chinese<br />n:   94<br />price: $$$","cuisine_description: Coffee/Tea<br />n:   31<br />price: $$$","cuisine_description: French<br />n:  108<br />price: $$$","cuisine_description: Italian<br />n:  193<br />price: $$$","cuisine_description: Japanese<br />n:   64<br />price: $$$","cuisine_description: Mediterranean<br />n:   32<br />price: $$$","cuisine_description: Seafood<br />n:   47<br />price: $$$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$$","legendgroup":"$$$","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.899999999999999,0.899999999999999,0.9,0.9,0.9,0.9,0.899999999999999,0.9,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0],"x":[20,22,3,5,6,4,9,1,10,23],"y":[53,5,7,14,48,5,7,5,6,23],"text":["cuisine_description: American<br />n:   53<br />price: $$$$","cuisine_description: Chinese<br />n:    5<br />price: $$$$","cuisine_description: Greek<br />n:    7<br />price: $$$$","cuisine_description: Italian<br />n:   14<br />price: $$$$","cuisine_description: Japanese<br />n:   48<br />price: $$$$","cuisine_description: Korean<br />n:    5<br />price: $$$$","cuisine_description: Other<br />n:    7<br />price: $$$$","cuisine_description: Seafood<br />n:    5<br />price: $$$$","cuisine_description: Spanish<br />n:    6<br />price: $$$$","cuisine_description: Steakhouse<br />n:   23<br />price: $$$$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$$$","legendgroup":"$$$$","showlegend":true,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":108.194271481943,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.239128071319852],"automargin":true,"type":"linear","autorange":false,"range":[0.4,23.6],"tickmode":"array","ticktext":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"categoryorder":"array","categoryarray":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Cuisine type","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-89.9294312992943},{"text":"Number","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-33.6073059360731},{"text":"$","x":0.119564035659926,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"$$","x":0.375,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"$$$","x":0.625,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"$$$$","x":0.880435964340074,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-98.45,2067.45],"tickmode":"array","ticktext":["0","500","1000","1500","2000"],"tickvals":[0,500,1000,1500,2000],"categoryorder":"array","categoryarray":["0","500","1000","1500","2000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.239128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.239128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.260871928680148,"x1":0.489128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.260871928680148,"x1":0.489128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.510871928680148,"x1":0.739128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.510871928680148,"x1":0.739128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.760871928680148,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.760871928680148,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,23.6],"tickmode":"array","ticktext":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"categoryorder":"array","categoryarray":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.260871928680148,0.489128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,23.6],"tickmode":"array","ticktext":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"categoryorder":"array","categoryarray":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.510871928680148,0.739128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[0.4,23.6],"tickmode":"array","ticktext":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"categoryorder":"array","categoryarray":["Seafood","French","Greek","Korean","Italian","Japanese","Asian/Asian Fusion","Mediterranean","Other","Spanish","Caribbean","Latin American","Mexican","Sandwiches","Bakery Products/Desserts","Hamburgers","Chicken","Donuts","Coffee/Tea","American","Pizza","Chinese","Steakhouse"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":6.6417600664176},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.760871928680148,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bbe5162d8a6c":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"bbe5162d8a6c","visdat":{"bbe5162d8a6c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="price-vs.-borough" class="section level2">
<h2>Price vs.borough</h2>
<pre class="r"><code>price_boro&lt;-
  inspection_raw %&gt;% 
  select(dba,boro,cuisine_description,critical_flag,score,grade,grade_date,inspection_type,latitude,longitude,rating,review_num,price) %&gt;%
  drop_na(boro,price) %&gt;%
  mutate(boro = fct_infreq(boro),
         price=as.factor(price)) %&gt;%
  ggplot(aes(x = boro, fill = price)) + 
  geom_bar()

ggplotly(price_boro)</code></pre>
<div id="htmlwidget-cd49af1e940de35f1fba" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cd49af1e940de35f1fba">{"x":{"data":[{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[5836,3106,2530,646,434],"x":[1,2,3,4,5],"y":[2094,2093,1787,662,270],"text":["count: 2094<br />boro: Manhattan<br />price: $","count: 2093<br />boro: Brooklyn<br />price: $","count: 1787<br />boro: Queens<br />price: $","count:  662<br />boro: Bronx<br />price: $","count:  270<br />boro: Staten Island<br />price: $"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$","legendgroup":"$","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[942,272,162,28,31],"x":[1,2,3,4,5],"y":[4894,2834,2368,618,403],"text":["count: 4894<br />boro: Manhattan<br />price: $$","count: 2834<br />boro: Brooklyn<br />price: $$","count: 2368<br />boro: Queens<br />price: $$","count:  618<br />boro: Bronx<br />price: $$","count:  403<br />boro: Staten Island<br />price: $$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$","legendgroup":"$$","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[134,22,26,4,5],"x":[1,2,3,4,5],"y":[808,250,136,24,26],"text":["count:  808<br />boro: Manhattan<br />price: $$$","count:  250<br />boro: Brooklyn<br />price: $$$","count:  136<br />boro: Queens<br />price: $$$","count:   24<br />boro: Bronx<br />price: $$$","count:   26<br />boro: Staten Island<br />price: $$$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$$","legendgroup":"$$$","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.9,0.9,0.9,0.9,0.9],"base":[0,0,0,0,0],"x":[1,2,3,4,5],"y":[134,22,26,4,5],"text":["count:  134<br />boro: Manhattan<br />price: $$$$","count:   22<br />boro: Brooklyn<br />price: $$$$","count:   26<br />boro: Queens<br />price: $$$$","count:    4<br />boro: Bronx<br />price: $$$$","count:    5<br />boro: Staten Island<br />price: $$$$"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"$$$$","legendgroup":"$$$$","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,5.6],"tickmode":"array","ticktext":["Manhattan","Brooklyn","Queens","Bronx","Staten Island"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["Manhattan","Brooklyn","Queens","Bronx","Staten Island"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"boro","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-396.5,8326.5],"tickmode":"array","ticktext":["0","2000","4000","6000","8000"],"tickvals":[0,2000,4000,6000,8000],"categoryorder":"array","categoryarray":["0","2000","4000","6000","8000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"count","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"price","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bbe5267dc6f2":{"x":{},"fill":{},"type":"bar"}},"cur_data":"bbe5267dc6f2","visdat":{"bbe5267dc6f2":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="review-number-vs.-rating-score-exclude-extreme-outliers"
class="section level2">
<h2>review number vs.rating score (exclude extreme outliers)</h2>
<pre class="r"><code>review_num_rating&lt;-
  inspection_raw %&gt;% 
  select(dba,boro,cuisine_description,critical_flag,score,grade,grade_date,inspection_type,latitude,longitude,rating,review_num,price) %&gt;% drop_na(boro,price,rating) %&gt;%
  filter(!review_num&lt;=100) %&gt;%
  group_by(rating) %&gt;%
  summarize(sum_review=sum(review_num)) %&gt;% 
  ggplot(aes(y=sum_review,x=rating))+
  geom_point()+
  geom_smooth()+
  labs(
    x=&quot;Sum of review_numbers&quot;,
    y=&quot;Rating&quot;
  )

ggplotly(review_num_rating)</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-55adecafbe48c507d018" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-55adecafbe48c507d018">{"x":{"data":[{"x":[1.1,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.1,2.2,2.3,2.4,2.5,2.6,2.7,2.8,2.9,3,3.1,3.2,3.3,3.4,3.5,3.6,3.7,3.8,3.9,4,4.1,4.2,4.3,4.4,4.5,4.6,4.7,4.8,4.9],"y":[452,412,1450,990,122,3882,121,580,416,2700,2888,2428,14620,10743,14159,31972,44437,54303,37079,54405,69399,133078,116860,178164,216328,268795,329237,530212,539792,390937,355140,254467,162504,90669,51696,15943,34535,1000],"text":["rating: 1.1<br />sum_review:    452","rating: 1.3<br />sum_review:    412","rating: 1.4<br />sum_review:   1450","rating: 1.5<br />sum_review:    990","rating: 1.6<br />sum_review:    122","rating: 1.7<br />sum_review:   3882","rating: 1.8<br />sum_review:    121","rating: 1.9<br />sum_review:    580","rating: 2.0<br />sum_review:    416","rating: 2.1<br />sum_review:   2700","rating: 2.2<br />sum_review:   2888","rating: 2.3<br />sum_review:   2428","rating: 2.4<br />sum_review:  14620","rating: 2.5<br />sum_review:  10743","rating: 2.6<br />sum_review:  14159","rating: 2.7<br />sum_review:  31972","rating: 2.8<br />sum_review:  44437","rating: 2.9<br />sum_review:  54303","rating: 3.0<br />sum_review:  37079","rating: 3.1<br />sum_review:  54405","rating: 3.2<br />sum_review:  69399","rating: 3.3<br />sum_review: 133078","rating: 3.4<br />sum_review: 116860","rating: 3.5<br />sum_review: 178164","rating: 3.6<br />sum_review: 216328","rating: 3.7<br />sum_review: 268795","rating: 3.8<br />sum_review: 329237","rating: 3.9<br />sum_review: 530212","rating: 4.0<br />sum_review: 539792","rating: 4.1<br />sum_review: 390937","rating: 4.2<br />sum_review: 355140","rating: 4.3<br />sum_review: 254467","rating: 4.4<br />sum_review: 162504","rating: 4.5<br />sum_review:  90669","rating: 4.6<br />sum_review:  51696","rating: 4.7<br />sum_review:  15943","rating: 4.8<br />sum_review:  34535","rating: 4.9<br />sum_review:   1000"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.1,1.14810126582278,1.19620253164557,1.24430379746835,1.29240506329114,1.34050632911392,1.38860759493671,1.43670886075949,1.48481012658228,1.53291139240506,1.58101265822785,1.62911392405063,1.67721518987342,1.7253164556962,1.77341772151899,1.82151898734177,1.86962025316456,1.91772151898734,1.96582278481013,2.01392405063291,2.0620253164557,2.11012658227848,2.15822784810127,2.20632911392405,2.25443037974684,2.30253164556962,2.35063291139241,2.39873417721519,2.44683544303797,2.49493670886076,2.54303797468354,2.59113924050633,2.63924050632911,2.6873417721519,2.73544303797468,2.78354430379747,2.83164556962025,2.87974683544304,2.92784810126582,2.97594936708861,3.02405063291139,3.07215189873418,3.12025316455696,3.16835443037975,3.21645569620253,3.26455696202532,3.3126582278481,3.36075949367089,3.40886075949367,3.45696202531646,3.50506329113924,3.55316455696203,3.60126582278481,3.6493670886076,3.69746835443038,3.74556962025316,3.79367088607595,3.84177215189873,3.88987341772152,3.9379746835443,3.98607594936709,4.03417721518987,4.08227848101266,4.13037974683544,4.17848101265823,4.22658227848101,4.2746835443038,4.32278481012658,4.37088607594937,4.41898734177215,4.46708860759494,4.51518987341772,4.56329113924051,4.61139240506329,4.65949367088608,4.70759493670886,4.75569620253165,4.80379746835443,4.85189873417722,4.9],"y":[11381.5403608779,9030.7971134928,6871.10284181991,4897.83642501515,3106.37674223439,1492.10267263354,50.3930953684605,-1223.37311040495,-2333.8170655308,-3285.5598908532,-4083.22270721628,-4736.7933393652,-5264.10617038233,-5652.93224413136,-5888.24986525674,-5955.03733840294,-5838.27296821442,-5522.93505933565,-4994.00191641109,-4236.4518440852,-3235.26314700245,-1988.60293111912,-853.698299534896,87.9443368400417,950.59590921144,1848.52734878505,2896.00958676662,4207.31355436194,5896.71018277673,8078.47040321675,10866.8651468878,14376.1653449956,18091.0297841003,21069.1372219183,23707.1545043995,26435.6402825775,29685.1532074862,33886.2519301595,39469.4951016312,46865.4413729351,56724.6744496652,70322.1325615427,87092.5408342205,106197.735922273,126799.554480272,148059.833162794,169140.408624411,189203.117519698,207409.796503227,222922.282229573,234932.251747954,245874.071363141,257372.622270625,268944.097372384,280104.689570396,290370.591766641,299257.996863096,306283.09776174,310962.087364551,312811.158573509,311346.504290591,306818.189757268,300978.479223484,293838.334762683,285292.192212191,275234.487409334,263559.656191437,250162.134395829,234936.357859834,217776.762420779,198577.78391599,177242.740029015,153839.504795979,128450.821198507,101130.144193538,71930.9287380117,40906.6297888681,8110.70230304556,-26403.398762515,-62582.2184508754],"text":["rating: 1.100000<br />sum_review:  11381.54036","rating: 1.148101<br />sum_review:   9030.79711","rating: 1.196203<br />sum_review:   6871.10284","rating: 1.244304<br />sum_review:   4897.83643","rating: 1.292405<br />sum_review:   3106.37674","rating: 1.340506<br />sum_review:   1492.10267","rating: 1.388608<br />sum_review:     50.39310","rating: 1.436709<br />sum_review:  -1223.37311","rating: 1.484810<br />sum_review:  -2333.81707","rating: 1.532911<br />sum_review:  -3285.55989","rating: 1.581013<br />sum_review:  -4083.22271","rating: 1.629114<br />sum_review:  -4736.79334","rating: 1.677215<br />sum_review:  -5264.10617","rating: 1.725316<br />sum_review:  -5652.93224","rating: 1.773418<br />sum_review:  -5888.24987","rating: 1.821519<br />sum_review:  -5955.03734","rating: 1.869620<br />sum_review:  -5838.27297","rating: 1.917722<br />sum_review:  -5522.93506","rating: 1.965823<br />sum_review:  -4994.00192","rating: 2.013924<br />sum_review:  -4236.45184","rating: 2.062025<br />sum_review:  -3235.26315","rating: 2.110127<br />sum_review:  -1988.60293","rating: 2.158228<br />sum_review:   -853.69830","rating: 2.206329<br />sum_review:     87.94434","rating: 2.254430<br />sum_review:    950.59591","rating: 2.302532<br />sum_review:   1848.52735","rating: 2.350633<br />sum_review:   2896.00959","rating: 2.398734<br />sum_review:   4207.31355","rating: 2.446835<br />sum_review:   5896.71018","rating: 2.494937<br />sum_review:   8078.47040","rating: 2.543038<br />sum_review:  10866.86515","rating: 2.591139<br />sum_review:  14376.16534","rating: 2.639241<br />sum_review:  18091.02978","rating: 2.687342<br />sum_review:  21069.13722","rating: 2.735443<br />sum_review:  23707.15450","rating: 2.783544<br />sum_review:  26435.64028","rating: 2.831646<br />sum_review:  29685.15321","rating: 2.879747<br />sum_review:  33886.25193","rating: 2.927848<br />sum_review:  39469.49510","rating: 2.975949<br />sum_review:  46865.44137","rating: 3.024051<br />sum_review:  56724.67445","rating: 3.072152<br />sum_review:  70322.13256","rating: 3.120253<br />sum_review:  87092.54083","rating: 3.168354<br />sum_review: 106197.73592","rating: 3.216456<br />sum_review: 126799.55448","rating: 3.264557<br />sum_review: 148059.83316","rating: 3.312658<br />sum_review: 169140.40862","rating: 3.360759<br />sum_review: 189203.11752","rating: 3.408861<br />sum_review: 207409.79650","rating: 3.456962<br />sum_review: 222922.28223","rating: 3.505063<br />sum_review: 234932.25175","rating: 3.553165<br />sum_review: 245874.07136","rating: 3.601266<br />sum_review: 257372.62227","rating: 3.649367<br />sum_review: 268944.09737","rating: 3.697468<br />sum_review: 280104.68957","rating: 3.745570<br />sum_review: 290370.59177","rating: 3.793671<br />sum_review: 299257.99686","rating: 3.841772<br />sum_review: 306283.09776","rating: 3.889873<br />sum_review: 310962.08736","rating: 3.937975<br />sum_review: 312811.15857","rating: 3.986076<br />sum_review: 311346.50429","rating: 4.034177<br />sum_review: 306818.18976","rating: 4.082278<br />sum_review: 300978.47922","rating: 4.130380<br />sum_review: 293838.33476","rating: 4.178481<br />sum_review: 285292.19221","rating: 4.226582<br />sum_review: 275234.48741","rating: 4.274684<br />sum_review: 263559.65619","rating: 4.322785<br />sum_review: 250162.13440","rating: 4.370886<br />sum_review: 234936.35786","rating: 4.418987<br />sum_review: 217776.76242","rating: 4.467089<br />sum_review: 198577.78392","rating: 4.515190<br />sum_review: 177242.74003","rating: 4.563291<br />sum_review: 153839.50480","rating: 4.611392<br />sum_review: 128450.82120","rating: 4.659494<br />sum_review: 101130.14419","rating: 4.707595<br />sum_review:  71930.92874","rating: 4.755696<br />sum_review:  40906.62979","rating: 4.803797<br />sum_review:   8110.70230","rating: 4.851899<br />sum_review: -26403.39876","rating: 4.900000<br />sum_review: -62582.21845"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":3.77952755905512,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.1,1.14810126582278,1.19620253164557,1.24430379746835,1.29240506329114,1.34050632911392,1.38860759493671,1.43670886075949,1.48481012658228,1.53291139240506,1.58101265822785,1.62911392405063,1.67721518987342,1.7253164556962,1.77341772151899,1.82151898734177,1.86962025316456,1.91772151898734,1.96582278481013,2.01392405063291,2.0620253164557,2.11012658227848,2.15822784810127,2.20632911392405,2.25443037974684,2.30253164556962,2.35063291139241,2.39873417721519,2.44683544303797,2.49493670886076,2.54303797468354,2.59113924050633,2.63924050632911,2.6873417721519,2.73544303797468,2.78354430379747,2.83164556962025,2.87974683544304,2.92784810126582,2.97594936708861,3.02405063291139,3.07215189873418,3.12025316455696,3.16835443037975,3.21645569620253,3.26455696202532,3.3126582278481,3.36075949367089,3.40886075949367,3.45696202531646,3.50506329113924,3.55316455696203,3.60126582278481,3.6493670886076,3.69746835443038,3.74556962025316,3.79367088607595,3.84177215189873,3.88987341772152,3.9379746835443,3.98607594936709,4.03417721518987,4.08227848101266,4.13037974683544,4.17848101265823,4.22658227848101,4.2746835443038,4.32278481012658,4.37088607594937,4.41898734177215,4.46708860759494,4.51518987341772,4.56329113924051,4.61139240506329,4.65949367088608,4.70759493670886,4.75569620253165,4.80379746835443,4.85189873417722,4.9,4.9,4.9,4.85189873417722,4.80379746835443,4.75569620253165,4.70759493670886,4.65949367088608,4.61139240506329,4.56329113924051,4.51518987341772,4.46708860759494,4.41898734177215,4.37088607594937,4.32278481012658,4.2746835443038,4.22658227848101,4.17848101265823,4.13037974683544,4.08227848101266,4.03417721518987,3.98607594936709,3.9379746835443,3.88987341772152,3.84177215189873,3.79367088607595,3.74556962025316,3.69746835443038,3.6493670886076,3.60126582278481,3.55316455696203,3.50506329113924,3.45696202531646,3.40886075949367,3.36075949367089,3.3126582278481,3.26455696202532,3.21645569620253,3.16835443037975,3.12025316455696,3.07215189873418,3.02405063291139,2.97594936708861,2.92784810126582,2.87974683544304,2.83164556962025,2.78354430379747,2.73544303797468,2.6873417721519,2.63924050632911,2.59113924050633,2.54303797468354,2.49493670886076,2.44683544303797,2.39873417721519,2.35063291139241,2.30253164556962,2.25443037974684,2.20632911392405,2.15822784810127,2.11012658227848,2.0620253164557,2.01392405063291,1.96582278481013,1.91772151898734,1.86962025316456,1.82151898734177,1.77341772151899,1.7253164556962,1.67721518987342,1.62911392405063,1.58101265822785,1.53291139240506,1.48481012658228,1.43670886075949,1.38860759493671,1.34050632911392,1.29240506329114,1.24430379746835,1.19620253164557,1.14810126582278,1.1,1.1],"y":[-81565.5641869324,-76453.7099169171,-71643.2058021135,-67166.9649427905,-63059.5447284742,-59355.8993455539,-56089.1343633517,-53287.006138353,-50967.1811526301,-49131.8341609972,-47762.9046761879,-46823.0751639911,-46256.4805160193,-45976.1008635795,-45892.3023288086,-45918.366143561,-45973.1067840308,-45982.3300767766,-45879.2619177553,-45604.2758460066,-45104.2791729752,-44338.8952182731,-43475.3294961824,-42605.4920267425,-41754.7181916553,-40940.7648696342,-40141.7879521015,-39274.0611489176,-38183.3164062417,-36651.0190191008,-34412.3917059641,-31180.7819186726,-27260.0466123943,-23645.4530865366,-20327.1856030836,-17208.1500711257,-14035.9033707093,-10345.1185256285,-5469.19936675204,1385.63632880354,11239.6930813066,25378.0301934298,42960.3564621438,62857.9993427063,83981.840717182,105334.695889768,126050.44567269,145401.459023468,162770.211772717,177599.769577211,189369.810556035,200535.196381496,212509.024273721,224647.388656252,236328.589406257,246976.107953535,256074.798196737,263175.724050412,267887.257633032,269853.890510615,268726.094482729,264774.2775407,259537.968263647,252978.842863975,244946.596640271,235281.975559346,223816.292032948,210371.781091152,194763.314413447,176801.791683217,156299.015070538,133081.784228271,107151.718882364,78552.7452435356,47327.2582759745,13539.3809453606,-22731.7865908661,-61398.6688459674,-102370.2556377,-145555.42699108,-145555.42699108,20390.9900893294,49563.45811267,77620.0734520585,104545.046168602,130322.476530663,154933.030111102,178348.897153479,200527.290709594,221403.695829759,240856.552761443,258751.733158341,275109.401306221,289952.487700506,303303.020349926,315186.999259321,325637.787784111,334697.826661391,342418.990183322,348862.101973836,353966.914098453,355768.426636403,354036.917096071,349390.471473068,342441.195529454,333765.075579747,323880.789734536,313240.806088516,302236.220267529,291212.946344786,280494.692939874,268244.794881935,252049.381233737,233004.776015928,212230.371576132,190784.97043582,169617.268243363,149537.472501839,131224.725206297,115266.234929656,102209.655818024,92345.2464170667,84408.1895700145,78117.6223859474,73406.2097856817,70079.4306362806,67741.4946118825,65783.7275303732,63442.1061805949,59933.1126086637,56146.1219997396,52807.9598255343,49976.7367717951,47688.6882576415,45933.8071256348,44637.8195672043,43655.9100100782,42781.3807004226,41767.9328971127,40361.6893560349,38633.7528789703,37131.3721578362,35891.2580849331,34936.4599581053,34296.560847602,34008.2914667551,34115.8025982951,34670.2363753168,35728.2681752546,37349.4884852607,39596.4592617553,42560.7143792908,46299.5470215685,50840.2599175431,56189.9205540886,62340.1046908209,69272.298212943,76962.6377928208,85385.4114857533,94515.3041439028,104328.644908688,-81565.5641869324],"text":["rating: 1.100000<br />sum_review:  11381.54036","rating: 1.148101<br />sum_review:   9030.79711","rating: 1.196203<br />sum_review:   6871.10284","rating: 1.244304<br />sum_review:   4897.83643","rating: 1.292405<br />sum_review:   3106.37674","rating: 1.340506<br />sum_review:   1492.10267","rating: 1.388608<br />sum_review:     50.39310","rating: 1.436709<br />sum_review:  -1223.37311","rating: 1.484810<br />sum_review:  -2333.81707","rating: 1.532911<br />sum_review:  -3285.55989","rating: 1.581013<br />sum_review:  -4083.22271","rating: 1.629114<br />sum_review:  -4736.79334","rating: 1.677215<br />sum_review:  -5264.10617","rating: 1.725316<br />sum_review:  -5652.93224","rating: 1.773418<br />sum_review:  -5888.24987","rating: 1.821519<br />sum_review:  -5955.03734","rating: 1.869620<br />sum_review:  -5838.27297","rating: 1.917722<br />sum_review:  -5522.93506","rating: 1.965823<br />sum_review:  -4994.00192","rating: 2.013924<br />sum_review:  -4236.45184","rating: 2.062025<br />sum_review:  -3235.26315","rating: 2.110127<br />sum_review:  -1988.60293","rating: 2.158228<br />sum_review:   -853.69830","rating: 2.206329<br />sum_review:     87.94434","rating: 2.254430<br />sum_review:    950.59591","rating: 2.302532<br />sum_review:   1848.52735","rating: 2.350633<br />sum_review:   2896.00959","rating: 2.398734<br />sum_review:   4207.31355","rating: 2.446835<br />sum_review:   5896.71018","rating: 2.494937<br />sum_review:   8078.47040","rating: 2.543038<br />sum_review:  10866.86515","rating: 2.591139<br />sum_review:  14376.16534","rating: 2.639241<br />sum_review:  18091.02978","rating: 2.687342<br />sum_review:  21069.13722","rating: 2.735443<br />sum_review:  23707.15450","rating: 2.783544<br />sum_review:  26435.64028","rating: 2.831646<br />sum_review:  29685.15321","rating: 2.879747<br />sum_review:  33886.25193","rating: 2.927848<br />sum_review:  39469.49510","rating: 2.975949<br />sum_review:  46865.44137","rating: 3.024051<br />sum_review:  56724.67445","rating: 3.072152<br />sum_review:  70322.13256","rating: 3.120253<br />sum_review:  87092.54083","rating: 3.168354<br />sum_review: 106197.73592","rating: 3.216456<br />sum_review: 126799.55448","rating: 3.264557<br />sum_review: 148059.83316","rating: 3.312658<br />sum_review: 169140.40862","rating: 3.360759<br />sum_review: 189203.11752","rating: 3.408861<br />sum_review: 207409.79650","rating: 3.456962<br />sum_review: 222922.28223","rating: 3.505063<br />sum_review: 234932.25175","rating: 3.553165<br />sum_review: 245874.07136","rating: 3.601266<br />sum_review: 257372.62227","rating: 3.649367<br />sum_review: 268944.09737","rating: 3.697468<br />sum_review: 280104.68957","rating: 3.745570<br />sum_review: 290370.59177","rating: 3.793671<br />sum_review: 299257.99686","rating: 3.841772<br />sum_review: 306283.09776","rating: 3.889873<br />sum_review: 310962.08736","rating: 3.937975<br />sum_review: 312811.15857","rating: 3.986076<br />sum_review: 311346.50429","rating: 4.034177<br />sum_review: 306818.18976","rating: 4.082278<br />sum_review: 300978.47922","rating: 4.130380<br />sum_review: 293838.33476","rating: 4.178481<br />sum_review: 285292.19221","rating: 4.226582<br />sum_review: 275234.48741","rating: 4.274684<br />sum_review: 263559.65619","rating: 4.322785<br />sum_review: 250162.13440","rating: 4.370886<br />sum_review: 234936.35786","rating: 4.418987<br />sum_review: 217776.76242","rating: 4.467089<br />sum_review: 198577.78392","rating: 4.515190<br />sum_review: 177242.74003","rating: 4.563291<br />sum_review: 153839.50480","rating: 4.611392<br />sum_review: 128450.82120","rating: 4.659494<br />sum_review: 101130.14419","rating: 4.707595<br />sum_review:  71930.92874","rating: 4.755696<br />sum_review:  40906.62979","rating: 4.803797<br />sum_review:   8110.70230","rating: 4.851899<br />sum_review: -26403.39876","rating: 4.900000<br />sum_review: -62582.21845","rating: 4.900000<br />sum_review: -62582.21845","rating: 4.900000<br />sum_review: -62582.21845","rating: 4.851899<br />sum_review: -26403.39876","rating: 4.803797<br />sum_review:   8110.70230","rating: 4.755696<br />sum_review:  40906.62979","rating: 4.707595<br />sum_review:  71930.92874","rating: 4.659494<br />sum_review: 101130.14419","rating: 4.611392<br />sum_review: 128450.82120","rating: 4.563291<br />sum_review: 153839.50480","rating: 4.515190<br />sum_review: 177242.74003","rating: 4.467089<br />sum_review: 198577.78392","rating: 4.418987<br />sum_review: 217776.76242","rating: 4.370886<br />sum_review: 234936.35786","rating: 4.322785<br />sum_review: 250162.13440","rating: 4.274684<br />sum_review: 263559.65619","rating: 4.226582<br />sum_review: 275234.48741","rating: 4.178481<br />sum_review: 285292.19221","rating: 4.130380<br />sum_review: 293838.33476","rating: 4.082278<br />sum_review: 300978.47922","rating: 4.034177<br />sum_review: 306818.18976","rating: 3.986076<br />sum_review: 311346.50429","rating: 3.937975<br />sum_review: 312811.15857","rating: 3.889873<br />sum_review: 310962.08736","rating: 3.841772<br />sum_review: 306283.09776","rating: 3.793671<br />sum_review: 299257.99686","rating: 3.745570<br />sum_review: 290370.59177","rating: 3.697468<br />sum_review: 280104.68957","rating: 3.649367<br />sum_review: 268944.09737","rating: 3.601266<br />sum_review: 257372.62227","rating: 3.553165<br />sum_review: 245874.07136","rating: 3.505063<br />sum_review: 234932.25175","rating: 3.456962<br />sum_review: 222922.28223","rating: 3.408861<br />sum_review: 207409.79650","rating: 3.360759<br />sum_review: 189203.11752","rating: 3.312658<br />sum_review: 169140.40862","rating: 3.264557<br />sum_review: 148059.83316","rating: 3.216456<br />sum_review: 126799.55448","rating: 3.168354<br />sum_review: 106197.73592","rating: 3.120253<br />sum_review:  87092.54083","rating: 3.072152<br />sum_review:  70322.13256","rating: 3.024051<br />sum_review:  56724.67445","rating: 2.975949<br />sum_review:  46865.44137","rating: 2.927848<br />sum_review:  39469.49510","rating: 2.879747<br />sum_review:  33886.25193","rating: 2.831646<br />sum_review:  29685.15321","rating: 2.783544<br />sum_review:  26435.64028","rating: 2.735443<br />sum_review:  23707.15450","rating: 2.687342<br />sum_review:  21069.13722","rating: 2.639241<br />sum_review:  18091.02978","rating: 2.591139<br />sum_review:  14376.16534","rating: 2.543038<br />sum_review:  10866.86515","rating: 2.494937<br />sum_review:   8078.47040","rating: 2.446835<br />sum_review:   5896.71018","rating: 2.398734<br />sum_review:   4207.31355","rating: 2.350633<br />sum_review:   2896.00959","rating: 2.302532<br />sum_review:   1848.52735","rating: 2.254430<br />sum_review:    950.59591","rating: 2.206329<br />sum_review:     87.94434","rating: 2.158228<br />sum_review:   -853.69830","rating: 2.110127<br />sum_review:  -1988.60293","rating: 2.062025<br />sum_review:  -3235.26315","rating: 2.013924<br />sum_review:  -4236.45184","rating: 1.965823<br />sum_review:  -4994.00192","rating: 1.917722<br />sum_review:  -5522.93506","rating: 1.869620<br />sum_review:  -5838.27297","rating: 1.821519<br />sum_review:  -5955.03734","rating: 1.773418<br />sum_review:  -5888.24987","rating: 1.725316<br />sum_review:  -5652.93224","rating: 1.677215<br />sum_review:  -5264.10617","rating: 1.629114<br />sum_review:  -4736.79334","rating: 1.581013<br />sum_review:  -4083.22271","rating: 1.532911<br />sum_review:  -3285.55989","rating: 1.484810<br />sum_review:  -2333.81707","rating: 1.436709<br />sum_review:  -1223.37311","rating: 1.388608<br />sum_review:     50.39310","rating: 1.340506<br />sum_review:   1492.10267","rating: 1.292405<br />sum_review:   3106.37674","rating: 1.244304<br />sum_review:   4897.83643","rating: 1.196203<br />sum_review:   6871.10284","rating: 1.148101<br />sum_review:   9030.79711","rating: 1.100000<br />sum_review:  11381.54036","rating: 1.100000<br />sum_review:  11381.54036"],"type":"scatter","mode":"lines","line":{"width":3.77952755905512,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(153,153,153,0.4)","hoveron":"points","hoverinfo":"x+y","showlegend":false,"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":54.7945205479452},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.91,5.09],"tickmode":"array","ticktext":["1","2","3","4","5"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1","2","3","4","5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Sum of review_numbers","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-179822.798340634,574059.371349554],"tickmode":"array","ticktext":["0e+00","2e+05","4e+05"],"tickvals":[0,200000,400000],"categoryorder":"array","categoryarray":["0e+00","2e+05","4e+05"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Rating","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bbe557c71444":{"x":{},"y":{},"type":"scatter"},"bbe54f03a961":{"x":{},"y":{}}},"cur_data":"bbe557c71444","visdat":{"bbe557c71444":["function (y) ","x"],"bbe54f03a961":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="top_10-violation" class="section level2">
<h2>top_10 violation</h2>
<pre class="r"><code>inspection_raw = read_csv(&quot;./data/inspection_sub_all_date.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  mutate(
    violation_description = as.factor(violation_description)
  ) </code></pre>
<pre><code>## Warning: One or more parsing issues, call `problems()` on your data frame for details,
## e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## Rows: 54562 Columns: 32
##  Column specification 
## Delimiter: &quot;,&quot;
## chr  (17): dba, boro, building, street, cuisine_description, action, violati...
## dbl  (12): camis, zipcode, phone, score, latitude, longitude, community_boar...
## date  (3): inspection_date, grade_date, record_date
## 
##  Use `spec()` to retrieve the full column specification for this data.
##  Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>top_10_vio = inspection_raw %&gt;% 
  group_by(violation_description) %&gt;%
  summarize(
    n = n()
  ) %&gt;%
  mutate(
    rank = rank(-n, ties.method = &quot;first&quot;)
  ) %&gt;% 
  filter(rank &lt;=10) %&gt;%
  arrange(desc(n)) %&gt;% mutate(
    rank = as.factor(rank)
  ) %&gt;%
  mutate(
    abb_violation = fct_recode(
      rank,
      &quot;Non-food contact surface improperly constructed&quot; = &quot;1&quot;,
      &quot;Food contact surface not properly cleaned&quot; = &quot;2&quot;,
      &quot;Unacceptable materials&quot; = &quot;3&quot;,
      &quot;Facility not vermin proof&quot; = &quot;4&quot;, 
      &quot;Not free of harborage&quot; = &quot;5&quot;,
      &quot;Evidence of mice or live mice present&quot; = &quot;6&quot;,
      &quot;Filth flies or food/refuse/sewage with FRSA  flies&quot;  = &quot;7&quot;,
      &quot;Cold CT food held above 41 F&quot; = &quot;8&quot;,
      &quot;Cold food item held above 41 F&quot; = &quot;9&quot;,
     &quot;Evidence of mice or live mice in establishments food or non-food areas&quot; = &quot;10&quot;
        )
  )



top_10_vio %&gt;%
  ggplot(aes(x = rank, y = n, fill = n), data = .)+geom_bar(stat=&quot;identity&quot;)+labs(x = &quot;violation type&quot;, y = &quot;frequency&quot;, caption = &quot;Exact violation type and associated frquency is shown in the following table&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>top_10_vio %&gt;% 
  select(abb_violation, n) %&gt;%
  knitr::kable()</code></pre>
<table>
<colgroup>
<col width="93%" />
<col width="6%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">abb_violation</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Non-food contact surface improperly constructed</td>
<td align="right">3851</td>
</tr>
<tr class="even">
<td align="left">Food contact surface not properly cleaned</td>
<td align="right">3832</td>
</tr>
<tr class="odd">
<td align="left">Unacceptable materials</td>
<td align="right">3386</td>
</tr>
<tr class="even">
<td align="left">Facility not vermin proof</td>
<td align="right">3368</td>
</tr>
<tr class="odd">
<td align="left">Not free of harborage</td>
<td align="right">3198</td>
</tr>
<tr class="even">
<td align="left">Evidence of mice or live mice present</td>
<td align="right">2125</td>
</tr>
<tr class="odd">
<td align="left">Filth flies or food/refuse/sewage with FRSA flies</td>
<td align="right">1873</td>
</tr>
<tr class="even">
<td align="left">Cold CT food held above 41 F</td>
<td align="right">1824</td>
</tr>
<tr class="odd">
<td align="left">Cold food item held above 41 F</td>
<td align="right">1698</td>
</tr>
<tr class="even">
<td align="left">Evidence of mice or live mice in establishments food
or non-food areas</td>
<td align="right">1614</td>
</tr>
</tbody>
</table>
</div>
<div id="top-10-violations-vs.-cuisine-type" class="section level2">
<h2>top 10 violations vs.cuisine type</h2>
<pre class="r"><code>vio_cuisine_bar&lt;-
  inspection_raw %&gt;% 
  filter(violation_description %in% top_10_vio$violation_description) %&gt;%
  group_by(violation_description,cuisine_description) %&gt;% 
  summarize(n_obs=n()) %&gt;% 
  filter(min_rank(desc(n_obs))&lt;=5) %&gt;%
  left_join(top_10_vio) %&gt;% 
  select(abb_violation,cuisine_description,n_obs,rank) %&gt;% 
  ggplot(aes(x=cuisine_description
             ,y=n_obs,fill=cuisine_description))+
  geom_bar(position=&quot;dodge&quot;, stat=&quot;identity&quot;)+
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))+
  theme(axis.text.x = element_text(size = 4))+
  labs(
    x=&quot;top 5 cuisine types at top 10 most frequently appeared violation&quot;,
    y=&quot;Number&quot;
  )+
  facet_grid(~rank)</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;violation_description&#39;. You can override
## using the `.groups` argument.
## Joining, by = &quot;violation_description&quot;
## Adding missing grouping variables: `violation_description`</code></pre>
<pre class="r"><code>ggplotly(vio_cuisine_bar)</code></pre>
<div id="htmlwidget-8574b1c6764acf3cbd2f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8574b1c6764acf3cbd2f">{"x":{"data":[{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[548],"text":"cuisine_description: American<br />n_obs: 548<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[741],"text":"cuisine_description: American<br />n_obs: 741<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[477],"text":"cuisine_description: American<br />n_obs: 477<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[508],"text":"cuisine_description: American<br />n_obs: 508<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[484],"text":"cuisine_description: American<br />n_obs: 484<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[304],"text":"cuisine_description: American<br />n_obs: 304<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[321],"text":"cuisine_description: American<br />n_obs: 321<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[259],"text":"cuisine_description: American<br />n_obs: 259<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[285],"text":"cuisine_description: American<br />n_obs: 285<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[1],"y":[216],"text":"cuisine_description: American<br />n_obs: 216<br />cuisine_description: American","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"American","legendgroup":"American","showlegend":false,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[174],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs: 174<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[142],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs: 142<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[162],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs: 162<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[131],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs: 131<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[97],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:  97<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[2],"y":[69],"text":"cuisine_description: Bakery Products/Desserts<br />n_obs:  69<br />cuisine_description: Bakery Products/Desserts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(211,146,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Bakery Products/Desserts","legendgroup":"Bakery Products/Desserts","showlegend":false,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[3],"y":[69],"text":"cuisine_description: Caribbean<br />n_obs:  69<br />cuisine_description: Caribbean","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,170,0,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Caribbean","legendgroup":"Caribbean","showlegend":true,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[408],"text":"cuisine_description: Chinese<br />n_obs: 408<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[295],"text":"cuisine_description: Chinese<br />n_obs: 295<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[347],"text":"cuisine_description: Chinese<br />n_obs: 347<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[407],"text":"cuisine_description: Chinese<br />n_obs: 407<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[346],"text":"cuisine_description: Chinese<br />n_obs: 346<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[268],"text":"cuisine_description: Chinese<br />n_obs: 268<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[158],"text":"cuisine_description: Chinese<br />n_obs: 158<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[245],"text":"cuisine_description: Chinese<br />n_obs: 245<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[242],"text":"cuisine_description: Chinese<br />n_obs: 242<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[4],"y":[200],"text":"cuisine_description: Chinese<br />n_obs: 200<br />cuisine_description: Chinese","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Chinese","legendgroup":"Chinese","showlegend":false,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[330],"text":"cuisine_description: Coffee/Tea<br />n_obs: 330<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[433],"text":"cuisine_description: Coffee/Tea<br />n_obs: 433<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[299],"text":"cuisine_description: Coffee/Tea<br />n_obs: 299<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[218],"text":"cuisine_description: Coffee/Tea<br />n_obs: 218<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[232],"text":"cuisine_description: Coffee/Tea<br />n_obs: 232<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[143],"text":"cuisine_description: Coffee/Tea<br />n_obs: 143<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[153],"text":"cuisine_description: Coffee/Tea<br />n_obs: 153<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[103],"text":"cuisine_description: Coffee/Tea<br />n_obs: 103<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[97],"text":"cuisine_description: Coffee/Tea<br />n_obs:  97<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[5],"y":[109],"text":"cuisine_description: Coffee/Tea<br />n_obs: 109<br />cuisine_description: Coffee/Tea","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,193,159,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Coffee/Tea","legendgroup":"Coffee/Tea","showlegend":false,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[6],"y":[156],"text":"cuisine_description: Donuts<br />n_obs: 156<br />cuisine_description: Donuts","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,185,227,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Donuts","legendgroup":"Donuts","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[131],"text":"cuisine_description: Mexican<br />n_obs: 131<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":true,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[80],"text":"cuisine_description: Mexican<br />n_obs:  80<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":false,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.9,"base":0,"x":[7],"y":[84],"text":"cuisine_description: Mexican<br />n_obs:  84<br />cuisine_description: Mexican","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Mexican","legendgroup":"Mexican","showlegend":false,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[217],"text":"cuisine_description: Pizza<br />n_obs: 217<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[145],"text":"cuisine_description: Pizza<br />n_obs: 145<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[210],"text":"cuisine_description: Pizza<br />n_obs: 210<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[212],"text":"cuisine_description: Pizza<br />n_obs: 212<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[196],"text":"cuisine_description: Pizza<br />n_obs: 196<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[159],"text":"cuisine_description: Pizza<br />n_obs: 159<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x6","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[89],"text":"cuisine_description: Pizza<br />n_obs:  89<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x7","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[121],"text":"cuisine_description: Pizza<br />n_obs: 121<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x8","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[105],"text":"cuisine_description: Pizza<br />n_obs: 105<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[8],"y":[130],"text":"cuisine_description: Pizza<br />n_obs: 130<br />cuisine_description: Pizza","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,114,251,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Pizza","legendgroup":"Pizza","showlegend":false,"xaxis":"x10","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.899999999999999,"base":0,"x":[9],"y":[81],"text":"cuisine_description: Sandwiches<br />n_obs:  81<br />cuisine_description: Sandwiches","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,97,195,1)","line":{"width":1.88976377952756,"color":"transparent"}},"name":"Sandwiches","legendgroup":"Sandwiches","showlegend":true,"xaxis":"x9","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.9178082191781,"r":18.9954337899543,"b":92.2540473225405,"l":43.1050228310502},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[5.55111512312578e-17,0.0891280713198522],"automargin":true,"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"top 5 cuisine types at top 10 most frequently appeared violation","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-73.9892071398921},{"text":"Number","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-27.7625570776256},{"text":"1","x":0.0445640356599261,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2","x":0.15,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"3","x":0.25,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"4","x":0.35,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"5","x":0.45,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"6","x":0.55,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"7","x":0.65,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"8","x":0.75,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"9","x":0.85,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"10","x":0.955435964340074,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-37.05,778.05],"tickmode":"array","ticktext":["0","200","400","600"],"tickvals":[0,200,400,600],"categoryorder":"array","categoryarray":["0","200","400","600"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":5.55111512312578e-17,"x1":0.0891280713198522,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":5.55111512312578e-17,"x1":0.0891280713198522,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.110871928680148,"x1":0.189128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.110871928680148,"x1":0.189128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.210871928680148,"x1":0.289128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.210871928680148,"x1":0.289128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.310871928680148,"x1":0.389128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.310871928680148,"x1":0.389128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.410871928680148,"x1":0.489128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.410871928680148,"x1":0.489128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.510871928680148,"x1":0.589128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.510871928680148,"x1":0.589128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.610871928680148,"x1":0.689128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.610871928680148,"x1":0.689128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.710871928680148,"x1":0.789128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.710871928680148,"x1":0.789128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.810871928680148,"x1":0.889128071319852,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.810871928680148,"x1":0.889128071319852,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.910871928680148,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.910871928680148,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.110871928680148,0.189128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.210871928680148,0.289128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.310871928680148,0.389128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis5":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.410871928680148,0.489128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis6":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.510871928680148,0.589128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis7":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.610871928680148,0.689128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis8":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.710871928680148,0.789128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis9":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.810871928680148,0.889128071319852],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis10":{"type":"linear","autorange":false,"range":[0.4,9.6],"tickmode":"array","ticktext":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"tickvals":[1,2,3,4,5,6,7,8,9],"categoryorder":"array","categoryarray":["American","Bakery Products/Desserts","Caribbean","Chinese","Coffee/Tea","Donuts","Mexican","Pizza","Sandwiches"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":5.31340805313408},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.910871928680148,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"cuisine_description","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"bbe51799fcec":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"bbe51799fcec","visdat":{"bbe51799fcec":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="grade-associated-with-the-inspection-vs.-boro-cuisine-type"
class="section level2">
<h2>grade associated with the inspection vs.boro / cuisine type</h2>
<pre class="r"><code>grade_boro&lt;-
  inspection_raw %&gt;% 
  filter(grade %in% c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)) %&gt;%
  mutate(boro=fct_infreq(boro)) %&gt;% 
  ggplot(aes(x = boro, fill = grade))+
  geom_bar()+
  labs(
    x=&quot;Borough&quot;,
    y=&quot;Number&quot;
  )

top_10_cuisine&lt;-
  inspection_raw %&gt;% 
  filter(grade %in% c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)) %&gt;%
  group_by(cuisine_description) %&gt;% 
  summarise(n_obs=n()) %&gt;% 
  filter(min_rank(desc(n_obs))&lt;=10) 

grade_cuisine&lt;-
  inspection_raw %&gt;% 
  filter(grade %in% c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;) &amp; cuisine_description %in% top_10_cuisine$cuisine_description) %&gt;% 
  mutate(cuisine_description=fct_infreq(cuisine_description)) %&gt;% 
  ggplot(aes(x=cuisine_description,fill=grade))+
  geom_bar()+
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust = 1))+
  labs(
    x=&quot;Cuisine&quot;,
    y=&quot;Number&quot;
  )

grade_boro/grade_cuisine</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>## Yelp Rating vs. price boxplot 
inspection_raw %&gt;% 
  filter(!is.na(price)) %&gt;%
  ggplot(aes(x = price, y = rating, fill = price), data = .)+geom_boxplot()+labs(title = &quot;Yelp Rating vs. Price&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>inspection_raw %&gt;%
  filter(!is.na(grade),!is.na(boro)) %&gt;%
  ggplot(aes(x = boro, y = grade, fill = grade), data =.) + geom_bar(stat = &quot;identity&quot;, position=&quot;stack&quot;) + labs(title = &quot;Inspection grade by Boroughs&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>inspection_raw %&gt;%
  filter(!is.na(grade),!is.na(boro)) %&gt;%
  filter(critical_flag == c(&quot;Critical&quot;, &quot;Not Critical&quot;)) %&gt;%
  ggplot(aes(x = boro, y = critical_flag, fill = critical_flag), data =.) + geom_bar(stat = &quot;identity&quot;, position=&quot;stack&quot;) + labs(title = &quot;Percent with critical flag by boroughs&quot;)</code></pre>
<p><img src="eda_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
